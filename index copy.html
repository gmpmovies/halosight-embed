<!DOCTYPE html>
<!-- THIS FILE IS JUST FOR TESTING PURPOSES -->
<html>

<head>
    <title>Embedded Chat</title>
    <style>
        .chat-iframe {
            width: 500px;
        }
    </style>
    <!-- <script src="https://cdn.jsdelivr.net/npm/halosight-embed/dist/index.js"></script> -->
    <script src="./dist/index.js"></script>
</head>

<body>
    <iframe src="https://localhost:5173/insights" class="chat-iframe" title="Embedded Chat" id="insightsIframe">
    </iframe>

    <iframe src="https://localhost:5173/chat" class="chat-iframe" height="600" title="Embedded Chat" id="chatIframe">
    </iframe>

    <script>
        const agentId = 'e8da4f24-5945-45e4-81ff-a2fb4c49ee64';
        const tenantId = '56196aee-2c5a-4f81-8762-13119f37b5c3'
        // Initialize the embed helper
        const halosight = new HalosightEmbed({
            iframeId: 'insightsIframe',
            agentId: agentId,
            tenantId: tenantId,
            debug: true
        }).onRegister(() => {
            console.log('Halosight component is registered and ready!');
            halosight.insertUiAttributes({
                title: 'Gavin is cool'
            })
            // Insert agent arguments
            halosight.insertAgentArguments({
                recordId: '001Oz00000eZ7E6IAK'
            });
        });

        const halosight2 = new HalosightEmbed({
            iframeId: 'chatIframe',
            agentId: agentId,
            tenantId: tenantId,
            debug: true,
        }).onRegister(() => {
            console.log('Halosight component is registered and ready!');
            halosight2.insertUiAttributes({
                title: 'Test'
            })
            // Insert agent arguments
            halosight2.insertAgentArguments({
                recordId: '001Oz00000eZ7E6IAK'
            });
        });
    </script>
</body>

</html>